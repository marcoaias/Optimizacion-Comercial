<!DOCTYPE html><html lang="en"><head>
  <!-- <script src="src/p5.js"></script>
  <script src="src/p5.sound.min.js"></script> -->

  <script src='https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/p5.min.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.dom.min.js"></script>

  <link rel="stylesheet" type="text/css" href="style.css">
  <meta charset="utf-8">

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  tex: {
    tags: 'ams'
  };

</script>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>




<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

<meta name="viewport" content="width=device-width, initial-scale=1">


</head>
<body>
  <script src="sketch.js"></script>


  <div class="titulo">
    <h2>Optimización comercial</h2>
  </div>
  <div class="">
    <h3>Marco Aias et al.</h3>
  </div>
  <div class="">
    <h3>17 de mayo de 2021</h3>
  </div>

  <br>

  <ol>

    <div class="" style="margin: 0px">


    <div class="slideshow-container" style="margin: 0px">

      <div class="mySlides  ">

        <div class="">
          <h1> <li class="nli">A realizar</li> </h1>

          <p>Sea una cierta compañía de trenes de alta velocidad; la cual ofrece servicios de transporte entre distintas ciudades españolas, desde y hacia Madrid.</p>
          <p>Sea el trayecto que nos compete Madrid-Bilbao, hemos de determinar la mejor manera de comercializar los asientos de tal tren según los distintos productos ofrecidos.</p>
          <p>Consiste en determinar la cantidad de asientos esperados a ser vendidos para cada producto, con tal de que el total vendido sea óptimo. </p>
          <p>Para tal se empleará un modelo de manejo de ingresos; ámpliamente usado, el algoritmo heurístico EMSR-b (Expected Marginal Seat Revenue).</p>
          <p>Con tal información de demanda esperada para cada producto, se ha de determinar el número de vagones a configurar para el tren, atendiendo a las tasas implicadas.</p>
        </div>

      </div>

      <div class="mySlides  ">
        <div class="">
          <h1><li class="nli">Productos</li></h1>
        </div>

        <div class="center">


          <table class="center">
            <tr style="border-bottom: 1px solid #000; border-top: 1px solid #000;">
              <td style="text-align: left">Clase de reserva</td>
              <td>Tarifa [€]</td>
              <td>Cambios permitidos</td>
              <td>Sala Vip</td>
              <td>Fast Track</td>
              <td>Elección asiento</td>
            </tr>

            <tr>
              <td style="text-align: left">A</td>
              <td><input type="number" name="" value="180" id="p1"></td>
              <td>Sí</td>
              <td>Sí</td>
              <td>Sí</td>
              <td>Sí</td>
            </tr>
            <tr>
              <td style="text-align: left">B</td>
              <td><input type="number" name="" value="130" id="p2"></td>
              <td>Solo 1 (penalización 25 €)</td>
              <td>No</td>
              <td>Sí</td>
              <td>Sí</td>
            </tr>
            <tr>
              <td style="text-align: left">C</td>
              <td><input type="number" name="" value="100" id="p3"></td>
              <td>Solo 1 (penalización 60 €)</td>
              <td>No</td>
              <td>No</td>
              <td>Sí</td>
            </tr>
            <tr>
              <td style="text-align: left">D</td>
              <td><input type="number" name="" value="80" id="p4"></td>
              <td>No</td>
              <td>No</td>
              <td>No</td>
              <td>No</td>
            </tr>
            <tr style="border-bottom: 1px solid #000;">
              <td style="text-align: left">E</td>
              <td><input type="number" name="" value="40" id="p5"></td>
              <td>No</td>
              <td>No</td>
              <td>No</td>
              <td>No</td>
            </tr>

            <caption style="text-align: center;">Tabla 1: Servicios y precio de cada clase</caption>
          </table>
        </div>
      </div>

      <div class="mySlides  ">

              <div class="">
                <h1><li class="nli">Demanda</li></h1>

                <p>Un departamento de <em>forecasting</em>  ha proyectado para un día en concreto la demanda esperada para cada producto. Ésta viene recogida en la tabla <a href="#tab:demanda">2</a>.</p>

                <p>Se asume que la demanda para cada clase es independiente del resto; se asume la llegada de los clientes según la tarifa: primero se venden los asientos de la clase E, antes de ser vendidos aquellos con una tarifa más elevada.</p>

                <table style="text-align: center;" class="center">
                  <tr style="border-bottom: 1px solid #000; border-top: 1px solid #000;">
                    <td style="text-align: left">Clase de reserva</td>
                    <td>$\mu$</td>
                    <td>$\sigma$</td>
                  </tr>
                  <tr>
                    <td style="text-align: left">A</td>
                    <td><mark>?</mark></td>
                    <td><mark>?</mark> </td>
                  </tr>
                  <tr>
                    <td style="text-align: left">B</td>
                    <td><input type="number" name="" value="87" id="mu2"></td>
                    <td><input type="number" name="" value="8" id="sigma2"></td>
                  </tr>
                  <tr>
                    <td style="text-align: left">C</td>
                    <td><input type="number" name="" value="89" id="mu3"></td>
                    <td><input type="number" name="" value="9" id="sigma3"></td>
                  </tr>
                  <tr>
                    <td style="text-align: left">D</td>
                    <td><mark>?</mark></td>
                    <td><mark>?</mark></td>
                  </tr>
                  <tr style="border-bottom: 1px solid #000;">
                    <td style="text-align: left">E</td>
                    <td><input type="number" name="" value="60" id="mu5"></td>
                    <td><input type="number" name="" value="9" id="sigma5"></td>
                  </tr>
                  <caption style="text-align: center; white-space: nowrap;">Tabla <a id="tab:demanda">2</a>: Proyección de demanda para cada clase</caption>
                </table>

                <div class="" id="eq">
                  $$\begin{align}
                  \sigma_1 &= e^{\mu / 7} + 2\tag{1}\label{eq:expbio}\\[8px]
                  \sigma_2 &= \dfrac{1}{10}\mu^{3} -20\mu + 20\label{eq:cubbio}\tag{2}
                  \end{align}$$
                </div>

                <p>La tabla <a href="#tab:demanda">2</a> y las ecuaciones $\eqref{eq:expbio}$ y $\eqref{eq:cubbio}$ corresponden al trayecto MAD - BIO; las ecuaciones aplican a las clases A y D.</p>

                <p>Sea el espacio de la solución:</p>
                $$\left\{5 \leq \mu \leq 35\right\}, \left\{1 \leq \sigma \leq 30\right\}$$


                <!-- <iframe src="https://www.desmos.com/calculator/diznb9ohal?embed" width="500" height="500" style="border: 1px solid #ccc" frameborder=0></iframe> -->
              </div>
      </div>

      <div class="mySlides  ">
        <div class="">
          <h1><li class="nli">Probabilidad EMSR</li> </h1>

          <p>Para el cálculo de los EMSR(s), se requiere conocer la probabilidad de demanda; para lo cual el modelo toma los datos de demanda proyectados en la tabla 2 y forma una distribución normal de probabilidades.</p>

          <p>La distribución gaussiana:</p>

          $$
          \begin{align}
          f(x) &= \dfrac{1}{\sigma\sqrt{2\pi}}\exp\left({-\,\dfrac{1}{2}\left(\dfrac{x-\mu}{\sigma}\right)^2}\right) \label{eq:fgauss}\tag{3} \\[8pt]
          P(t) &= \int_{-\infty}^{t} f(x) \text{d} x \underset{t\to +\infty}{=} 1 \label{eq:intgauss}\tag{4}
          \end{align}
          $$


          <p>La integral $\eqref{eq:intgauss}$ no se puede resolver de forma analítica, sino por aproximación por el método del trapecio y también por el método de Simpson.</p>

          <p>Dado que la función $\eqref{eq:fgauss}$ es simétrica, la integral $\underset{t = \mu}{\text{\eqref{eq:intgauss}}}$ es igual a $\frac{1}{2}$. Entonces no es necesario calcular entre $(-\infty, t)$, sino $\frac{1}{2} + \int_\mu^t f(x)\text{d} x$ lo que alivia muchos recursos computacionales.</p>

          $$
          \begin{align}
          P(t) = \dfrac{1}{2} + \int_\mu^t \underset{(\mu, \, \sigma)}{f(x)}\text{d} x \label{eq:probgauss}\tag{5}
          \end{align}
          $$

        </div>
      </div>

      <div class="mySlides  ">
        <div class="">
          <h1><li class="nli">Algoritmo EMSR-b</li></h1>

          <p>Consiste en proteger suficientes <i>asientos</i> de respectivas clases con tal de maximizar el ingreso total.</p>

          <p>Se basa en la <em>Regla de Littlewood</em>: </p>

          <q cite="">
            La razón entre las tarifas de respectivas clases ha de ser igual a la probabilidad de ser ocupado el asiento de la clase de la tarifa superior
          </q>

          <p>Ha de encontrarse el número de asientos protegidos ($t$) que satisfaga la probabilidad ($P(t)$) $\eqref{eq:probgauss}$ de ser ocupados requerida por la razón de las respectivas tarifas.</p>

          <p>Ampliamos la tabla <a href="#tab:demanda">2</a> para calcular los parámetros relativos a los EMSR(s); <a href="#referencias">[Zen14][Wik17]</a> </p>

          <a href="#tab:valores" style="color: #75d">
            <table class="center">

              <tr style="border-bottom: 1px solid #000; border-top: 1px solid #000;">

                <td style="text-align: left">Clase$_i$</td>
                <td>Tarifa$_i$</td>
                <td>$\mu_i$</td>
                <td>$\sigma_i$</td>
                <td>tmp$_i$</td>
                <td>$\overline{\mu}_i$ </td>
                <td>$\overline{\sigma}_i$</td>
                <td>Protección</td>

              </tr>

            </table>
          </a>


          <p>Según el algoritmo EMSR-b se comparan las clases en orden ascendente de precio. Se aplica la regla de Littlewood entre una clase y el resto cuál sea de mayor tarifa.
            i.e. la clase E ($i = 5$) se compara con el conjunto de las clases A, B, C y D; la clase C ($i = 3$) se compara con A y B etc.</p>

            <p>Entonces se obtiene la tarifa media ponderada de un conjunto de clases como:</p>

            $$
            \begin{align}
            \text{Tarifa media ponderada}_i \equiv \text{tmp}_i = \dfrac{\sum_{k=1}^{i} \text{tarifa}_k \cdot \mu_k}{\sum_{k=1}^{i} \mu_k} \tag{6}
            \end{align}
            $$

            <p>Para el conjunto de demanda se agregan las demandas:</p>

            $$
            \begin{align}
            \overline{\mu}_i = \sum_{k=1}^{i} \mu_k \tag{7}
            \end{align}
            $$

            <p>Para la desviación conjunta se toma la raíz cuadrada del sumatorio de las varianzas:</p>


            $$
            \begin{align}
            \overline{\sigma}_i = \sqrt{\sum_{k=1}^i \sigma_k^2} \tag{8}
            \end{align}
            $$

            <p>Dados estos parámetros conjuntos, se procede a aplicar la regla de Littlewood entre cada clase y el conjunto restante.</p>

            $$
            \begin{align}
            \dfrac{\text{tarifa}_{i + 1}}{\text{tmp}_i} =  \underset{(\overline{\mu}_i, \, \overline{\sigma}_i)}{P(x > \theta_i)} \tag{9}
            \end{align}
            $$

            <p>Ha de encontrarse un valor $\theta_i$ para cada conjunto de clase, que representa el número de asientos protegidos, para el cuál la probabilidad de que tantos sean ocupados sea igual a la razón de tarifas.</p>

            $$
            \begin{align}
            g(\theta) = \dfrac{1}{2} - \int_{\mu_i}^{\theta} \underset{(\overline{\mu}_i, \, \overline{\sigma}_i)}{f(x)}\text{d} x - \dfrac{\text{tarifa}_{i + 1}}{\text{tmp}_i}  = 0 \label{eq:gtheta} \tag{10}
            \end{align}
            $$

            <div id="sketch-holder" class="center" style="padding: auto; width: 50%;">
              <!-- Our sketch will go here! -->
            </div>

            <table>
              <tr style="border-top: 1px solid #000;">
                <td>$\mu = $ <span id="s1mu">14</span></td>
                <td><input type="range" value="14" min="0" max="320" id="is1mu"></td>
              </tr>

              <tr>
                <td>$\sigma = $ <span id="s1sigma">50</span></td>
                <td><input type="range" value="50" min="0" max="100" id="is1sigma"></td>
              </tr>

              <tr>
                <td style="width: 110%">$\frac{\text{tarifa}_{i + 1}}{\text{tmp}_i} = $ <span id="s1frac"></span></td>
                <td><input type="range" value="0.3" min="0.001" max="0.999" step="0.001" id="is1frac"></td>
              </tr>

              <tr>
                <td>$n = $ <span id="s1n">3</span></td>
                <td><input type="range" value="3" min="0" max="10" id="is1n"></td>
              </tr>


              <tr style="border-top: 1px solid #000; border-bottom: 1px solid #000;">
                <td>$\theta = $ <span id="s1theta"></span> </td>
                <td> </td>
              </tr>
            </table>

            <p>Se puede resolver por linealización, i.e. Newton.</p>

            <p>Se resuelve para todos los valores EMSR y completa la tabla.</p>

          </div>

          <table class="center" id="tab:valores">
            <tr style="border-bottom: 1px solid #000; border-top: 1px solid #000;">
              <td style="text-align: left">Clase$_i$</td>
              <td>Tarifa$_i$</td>
              <td>$\mu_i$</td>
              <td>$\sigma_i$</td>
              <td>tmp$_i$</td>
              <td>$\overline{\mu}_i$ </td>
              <td>$\overline{\sigma}_i$</td>
              <td>Protección</td>
            </tr>

            <tr>
              <td style="text-align: left">A$_1$</td>
              <td><a href="#p1"><span id="A11"></span></a></td>
              <td><mark><a href="#eq"><span id="A12"></span></a></mark></td>
              <td><mark><a href="#eq"><span id="A13"></span></a></mark></td>
              <td><span id="A14"></span></td>
              <td><span id="A15"></span></td>
              <td><span id="A16"></span></td>
              <td><span id="A17"></span></td>
            </tr>

            <tr>
              <td style="text-align: left">B$_2$</td>
              <td><a href="#p2"><span id="A21"></span></a></td>
              <td><a href="#mu2"><span id="A22"></span></a></td>
              <td><a href="#sigma2"><span id="A23"></span></a></td>
              <td><span id="A24"></span></td>
              <td><span id="A25"></span></td>
              <td><span id="A26"></span></td>
              <td><span id="A27"></span></td>
            </tr>
            <tr>
              <td style="text-align: left">C$_3$</td>
              <td><a href="#p3"><span id="A31"></span></a></td>
              <td><a href="#mu3"><span id="A32"></span></a></td>
              <td><a href="#sigma3"><span id="A33"></span></a></td>
              <td><span id="A34"></span></td>
              <td><span id="A35"></span></td>
              <td><span id="A36"></span></td>
              <td><span id="A37"></span></td>
            </tr>
            <tr>
              <td style="text-align: left">D$_4$</td>
              <td><a href="#p4"><span id="A41"></span></a></td>
              <td><mark><a href="#eq"><span id="A42"></span></a></mark></td>
              <td><mark><a href="#eq"><span id="A43"></span></a></mark></td>
              <td><span id="A44"></span></td>
              <td><span id="A45"></span></td>
              <td><span id="A46"></span></td>
              <td><span id="A47"></span></td>
            </tr>
            <tr style="border-bottom: 1px solid #000;">
              <td style="text-align: left">E$_5$</td>
              <td><a href="#p5"><span id="A51"></span></a></td>
              <td><a href="#mu5"><span id="A52"></span></a></td>
              <td><a href="#sigma5"><span id="A53"></span></a></td>
              <td><span id="A54"></span></td>
              <td><span id="A55"></span></td>
              <td><span id="A56"></span></td>
              <td><span id="A57"></span></td>
            </tr>
            <caption style="text-align: center; white-space: nowrap;">Tabla <a id="tab:valores">4</a>: Valores EMSR-b</caption>

          </table>
      </div>

      <div class="mySlides  ">
        <div class="">
          <h1><li class="nli">Vagones</li></h1>

          <p>Han de determinarse el número óptimo de vagones a llevar. Sea entre un mínimo de 2 vagones, a un máximo de 4 vagones, configurados en la clase turista, con 80 plazas cada vagón.</p>

          <p>Las tasas relativas al número de vagones y al número de pasajeros se recojen en la tabla <a href="#tab:vag">5</a>.</p>

          <table class="center">
            <tr style="border-bottom: 1px solid #000; border-top: 1px solid #000;">
              <td style="text-align: left;">Concepto</td>
              <td>Tasa [€]</td>
            </tr>
            <tr>
              <td style="text-align: left;">Tasa por pasajero</td>
              <td>1,5</td>
            </tr>
            <tr style="border-bottom: 1px solid #000;">
              <td style="text-align: left;">Coste por vagón</td>
              <td>500</td>
            </tr>
            <caption style="text-align: center; white-space: nowrap;">Tabla <a id="tab:vag">5</a>: Conceptos relativos a vagones y pasajeros</caption>
          </table>

          <p>Sea la manera en la que se llenen los vagones, desde la clase más alta a la más baja, tal que no afecta a la demanda esperada ni a los niveles de protección.*1</p>

          <p>Se define una función de coste y beneficio, $\gamma(\theta)$, la cuál recoge el beneficio neto en función del número de pasajeros $\theta$ y conversamente, del número de vagones aplicando las tasas asociadas.</p>

          <p>Para cada valor de $\theta$ se atribuye un incremento de beneficio relativo al tipo de intervalo en el que se encuentra. Véase la figura \ref{fig:ingresos} y la tabla \ref{tab:emsrpre}. i.e. si $0 < \theta < A$ el beneficio a sumar por 1 pasajero extra corresponde a la tarifa A (180), menos la tasa de pasajeros. En total, para cada vagón se añade su tasa.</p>

          $$

          \begin{align}
          \gamma(\theta) = \sum_{k=1}^\theta \underset{\left\{\min(i) \, \mid \, k \, < \, \theta_i^*\right \}}{\text{Tarifa}_i} - \left(\left\lceil\dfrac{\theta}{n_{\text{plazas}}}\right\rceil  \frac{\text{Coste}}{\text{vagón}} + \theta\frac{\text{Tasa}}{\text{pasajero}} \right) \label{eq:delta} \tag{11}
          \end{align}
          $$
          <br>
          $$
          \begin{align}
          \delta(\theta) = \sum_{k = 1}^\theta \underset{\left\{\min(i) \, \mid \, k \, < \, \theta_i^*\right \}}{\left[\left(\text{Tarifa}_i -\frac{\text{Tasa}}{\text{pasajero}}\right)\left(1 - \underset{(\overline{\mu}_i, \, \sigma_i)}{P(\theta)}\right)\right]} - \left\lceil\dfrac{\theta}{n_{\text{plazas}}}\right\rceil \frac{\text{Coste}}{\text{vagón}} \label{eq:deltastar} \tag{12}
          \end{align}
          $$


          <p>La función $\delta(\theta)$ es una medida del ingreso esperado ponderado según la probabilidad para cada asiento. La probabilidad, las tasas, y las tarifas están delimitadas por los niveles de protección y corresponden individualmente a cada clase determinada por estos niveles.</p>

          <p>Entonces el algoritmo aquí propuesto para determinar el número óptimo de vagones consiste en encontrar un valor máximo para la función $\delta(\theta)$.</p>

          $$
          \begin{align}
          N_{\text{vagones}} = \left\lceil\dfrac{\theta^*}{n_{\text{plazas}}}\right\rceil \, \mid \, \theta^* \, \mid \, \delta(\theta^*) > \delta(\theta)
          \end{align}
          $$


          <div id="q-holder" class="center" style="padding: auto; width: 50%;">

          </div>

          <table>
            <tr style="border-top: 1px solid #000;">
              <td style="width: 110%">Tasa por pasajero =  <span id="s2tp">1.5</span></td>
              <td><input type="range" value="1.5" min="0" max="100" step="0.5" id="is2tp"></td>
            </tr>

            <tr>
              <td>Coste por vagón = <span id="s2tv">500</span></td>
              <td><input type="range" value="500" min="0" max="5000" id="is2tv"></td>
            </tr>




            <tr style="border-top: 1px solid #000;">
              <td>$\gamma = $ <span id="s2mx"></span> </td>
              <td> </td>
            </tr>

            <tr style=" border-bottom: 1px solid #000;">
              <td>$  N_{\text{vagones}} = $ <span id="s2nv"></span> </td>
              <td> </td>
            </tr>
          </table>

        </div>
      </div>

      <div class="mySlides  ">

              <div class="">
                <h1><li class="nli">Cálculo de plazas</li></h1>

                <p>Se procede a calcular el número de plazas que se recomienda poner en venta inicialmente. Para ello, se procede al cálculo de los EMSRs asociados a  cada clase multiplicando las respectiva tarifas medias ponderadas por la probabilidad de vender un número determinado de asientos ($a$):</p>

                $$
                \begin{align}
                \text{EMSR-b}(a) = \text{tmp}(n)\cdot \underset{(\overline{\mu}, \, \overline{\sigma})}{P(v \geq a)}
                \end{align}
                $$

                <p>Una vez calculados los valores se compararán en orden descendente de clase, esto es, desde aquellas con tarifas más altas (y con ello los mayores EMSRs) hasta las más bajas. Cuando los EMSRs comiencen a ser menores que la siguiente clase más alta EMSR($a$,$n$) $<$ EMSR($a$,$n+1$) se tomará el valor de $a$ (el número de plazas) que lo precede. Además, la suma del número de plazas verificará $\sum\text{plazas}(a,n) = \text{maxplazas}$ (para nuestro caso, maxplazas = 320). Así, se obtienen los siguientes valores:</p>

                <table class="center">
                  <tr style="border-bottom: 1px solid #000; border-top: 1px solid #000;">
                    <td>Clase</td>
                    <td>A</td>
                    <td>B</td>
                    <td>C</td>
                    <td>D</td>
                    <td>E</td>
                  </tr>
                  <tr style="border-bottom: 1px solid #000;">
                    <td>Plazas</td>
                    <td>7</td>
                    <td>86</td>
                    <td>161</td>
                    <td>66</td>
                    <td>0</td>
                  </tr>
                  <caption style="text-align: center; white-space: nowrap;">Tabla 6: Asignación de asientos</caption>
                </table>

              </div>
      </div>

      <div class="mySlides  ">
        <div class="">
          <h1><li class="nli">Monte Carlo</li></h1>

          <p>Con tal de comprobar el grado de certeza de todos los algoritmos propuestos, en especial los respectivos al cálculo de vagones, se pueden realizar simulaciones para tal efecto.</p>

          <p>La principal característica de estos métodos de simulación es que parten de la aleatoriedad. Se cobran valores aleatorios que se conjugan con las distribuciones normales descritas en la tabla de demanda <a href="#tab:demanda">2</a>.</p>

          <p>Los valores aleatorios <em>lineales</em>, se recuperan de una muestra, y se transforman en normales según la figura \ref{fig:gtheta}, reemplazando la razón de tarifas por un valor aleatorio $(0,1)$ lineal.</p>

          <p>Todos estos valores aleatorios corresponden, por supuesto, con el número de pasajeros esperados para cada producto. Se sumarán los totales ingresados para comparación de las predicciones de ingreso.</p>

          <p>Habiendo realizado las pertinentes simulaciones, para distintas demandas, conceptos, costes etc. resulta que el ingreso es subóptimo.*4 La principal razón para tal es que las tarifas y los costes se añaden por separado, y el algoritmo EMSR-b es ciego a estos costes (ver tabla <a href="#tab:vag">5</a>).</p>

          <p>Esta discrepancia es crítica cuando el número total de asientos disponibles es inferior a la demanda media esperada como se discute en \ref{fot:np}. Para arreglar este error, en vez de considerar las tarifas de cada producto (<em>de cara al público</em>), el algoritmo EMSR-b deberá considerar los ingresos para cada producto. Los potenciales errores que pueden surgir están relacionados con una razón de tarifas negativa * lo cual propiciaría resolver para un valor que se encuentra fuera del recorrido de la función CDF, véase la figura \ref{fig:gtheta}.</p>

          <div class="center" id="monte-carlo" style="padding: auto; width: 50%;">

          </div>

          <p>Correspondientemente, las funciones $\gamma$ y $\delta$ también portan error. Estas funciones no toman en cuenta la manera descrita y esperada por el algoritmo EMSR-b de llenar el tren. * Los ingresos que determinan las funciones son subóptimos; las normas descritas para decidir el número de vagones pueden aplicar en algunos casos, pero necesitan ser remodeladas.</p>

          <p>En general, los problemas descritos anteriormente no son demasiado influyentes dénse unos costes bajos, y relativamente invariantes en función del número de vagones. Entonces en <em>éste caso</em>, la manera propuesta de comercializar el tren es suficientemente adecuada, tal que el ingreso sigue siendo máximo.</p>

        </div>
      </div>


      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>

    </div>
    <br>

    <div style="text-align:center">
      <span class="dot" onclick="currentSlide(1)"></span>
      <span class="dot" onclick="currentSlide(2)"></span>
      <span class="dot" onclick="currentSlide(3)"></span>
      <span class="dot" onclick="currentSlide(4)"></span>
      <span class="dot" onclick="currentSlide(5)"></span>
      <span class="dot" onclick="currentSlide(6)"></span>
      <span class="dot" onclick="currentSlide(7)"></span>
      <span class="dot" onclick="currentSlide(8)"></span>
    </div>

    </div>




















    </ol>

    <div class="" id="referencias">
      <h1>Referencias</h1>

      <h6>[Zen14]</h6>
      <p>Rick  Zeni. Revenue  Management  -  EMSRb  -  Part  4.  2014. url: <a href="https://www.youtube.com/watch?v=mZY4CU05PLw">https://www.youtube.com/watch?v=mZY4CU05PLw</a>.</p>

      <br>

      <h6>[Wik17]</h6>
      <p>Wikipedia. Expected  marginal  seat  revenue. 2017. url: <a href="https://en.wikipedia.org/wiki/Expected_marginal_seat_revenue">https://en.wikipedia.org/wiki/Expected_marginal_seat_revenue</a>.</p>

    </div>



    <script>
    let db = 0;
    var slideIndex = 1;
    showSlides(slideIndex);

    function plusSlides(n) {
      showSlides(slideIndex += n);
    }

    function keyPressed(e) {
      db ++;
      if (db % 3 == 0) {
        if (e.keyCode === 37) {
          plusSlides(-1);
        }
        if (e.keyCode === 39) {
          plusSlides(+1);
        }
      }
    }

    function currentSlide(n) {
      showSlides(slideIndex = n);
    }

    function showSlides(n) {

      var i;
      var slides = document.getElementsByClassName("mySlides");
      var dots = document.getElementsByClassName("dot");

      var li = document.getElementsByClassName("nli");

      if (n > slides.length) {slideIndex = 1}
      if (n < 1) {slideIndex = slides.length}
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
      }
      slides[slideIndex-1].style.display = "block";
      dots[slideIndex-1].className += " active";
      li[slideIndex - 1].value = slideIndex;
    }
    </script>


    <!-- <script src="https://unpkg.com/p5.createloop@0.2.8/dist/p5.createloop.js"></script> -->




    <!-- <h2>Math in TeX notation</h2>

    $$g(\theta) = \dfrac{1}{2} - \int_{\mu_i}^{\theta} \underset{(\overline{\mu}_i, \, \overline{\sigma}_i)}{f(x)}\text{d} x - \dfrac{\text{tarifa}_{i + 1}}{\text{tmp}_i}  = 0 \label{eq:gtheta}$$ -->

    <!-- <iframe src="main.pdf" frameBorder="0" style="width: 100%; height: 550px; border: 0" noScrollbars></iframe> -->


  </body></html>
